<?xml version="1.0" encoding="UTF-8"?>
<!-- Example Demographics form with "check all that apply" and "other, specify" for "Race". 
Implemented as: Use Case D - CodeList repeat with "other" field - see https://wiki.cdisc.org/display/XMLT/Details+of+Repeating+IG+Use+Cases+A-E -->
<ODM xmlns="http://www.cdisc.org/ns/odm/v1.3"
     xmlns:xs="http://www.w3.org/2001/XMLSchema"
     xmlns:ds="http://www.w3.org/2000/09/xmldsig#"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     CreationDateTime="2020-07-06T10:20:15+01:00"
     Description=""
     FileOID="DEMOGRAPHICS_EXAMPLE"
     FileType="Snapshot"
     Granularity="Metadata"
     ODMVersion="1.3.1"
     SourceSystem="XML4Pharma CDISC ODM Study Designer"
     SourceSystemVersion="2015-R1">
   <Study OID="ST.DEMOGRAPHICS_EXAMPLE">
      <GlobalVariables>
         <StudyName>Demographics example</StudyName>
         <StudyDescription>Demographics example with Race, with "check all that apply"</StudyDescription>
         <ProtocolName>Demographics example protocol</ProtocolName>
      </GlobalVariables>
      <BasicDefinitions/>
      <MetaDataVersion Description="Version 1" Name="Version 1" OID="MV.1.0">
         <StudyEventDef Name="Screening visit with demographics" OID="SE.SCREENING" Repeating="No"
                        Type="Scheduled">
            <FormRef FormOID="FO.DEMOGRAPHICS" Mandatory="Yes"/>
         </StudyEventDef>
         <FormDef Name="Demographics form" OID="FO.DEMOGRAPHICS" Repeating="No">
            <ItemGroupRef ItemGroupOID="IG.DEMOGRAPHICS" Mandatory="Yes"/>
         </FormDef>
         <ItemGroupDef Name="Demographics" OID="IG.DEMOGRAPHICS" Repeating="No">
            <ItemRef ItemOID="IT.DOB" Mandatory="Yes"/>
            <ItemRef ItemOID="IT.SEX" Mandatory="Yes"/>
            <ItemRef ItemOID="IT.ETHNIC" Mandatory="Yes"/>
            <!-- As for "Race", there is a repeat, we need an ItemGroup for it -->
            <!-- Other solutions (without "nested ItemGroups") would be:
            a) Put "Date of birth", "Sex" and "Ethnicity" into a single ItemGroup, and reference it from the FormDef level. 
            b) Generate single ItemGroups (one Item per ItemGroup) for "Date of birth", "Sex" and "Ethnicity", 
            and reference them from the FormDef level -->
            <ItemGroupRef ItemGroupOID="IG.RACE" Mandatory="Yes"/>
         </ItemGroupDef>
         <!-- ItemGroup that repeats over all allowed values for "Race" from a codelist, with "Other, specifiy".
         This corresponds to "Repeating Item Groups Use Case D" - see https://wiki.cdisc.org/display/XMLT/Details+of+Repeating+IG+Use+Cases+A-E -->
         <ItemGroupDef OID="IG.RACE" Name="Race" Repeating="Yes">
            <ItemRef ItemOID="IT.RACE_CODE" Mandatory="Yes"/>
            <ItemRef ItemOID="IT.RACE_BOOLEAN" Mandatory="Yes"/>
            <!--ItemRef ItemOID="f" Mandatory="No"/-->
            <Repeat ItemOID="IT.RACE_CODE" Static="Yes" OtherItemOID="IT.RACEOTH">
               <OtherCodedValue>99</OtherCodedValue>
            </Repeat>
         </ItemGroupDef>
         <ItemDef DataType="date" Name="Date of birth" OID="IT.DOB">
            <Question>
               <TranslatedText xml:lang="en">Date of Birth</TranslatedText>
            </Question>
         </ItemDef>
         <ItemDef DataType="integer" Length="1" Name="Sex" OID="IT.SEX">
            <Question>
               <TranslatedText xml:lang="en">Sex</TranslatedText>
            </Question>
            <CodeListRef CodeListOID="CL.SEX"/>
         </ItemDef>
         <ItemDef DataType="integer" Length="1" Name="Ethnicity" OID="IT.ETHNIC">
            <Question>
               <TranslatedText xml:lang="en">Ethnicity</TranslatedText>
            </Question>
            <CodeListRef CodeListOID="CL.ETHNIC"/>
         </ItemDef>
         <!-- Code for Race -->
         <ItemDef OID="IT.RACE_CODE" Name="Race code" DataType="integer" Length="1">
            <CodeListRef CodeListOID="CL.RACE"/>
         </ItemDef>
         <!-- "Race" lines are treated a boolean each: disadvantage: cannot be kept in the database as coded values 1,2, ... 99. 
         This is separately done in IT.RACE_CODE -->
         <ItemDef DataType="boolean" Length="1" Name="Race" OID="IT.RACE_BOOLEAN">
            <Description>
               <TranslatedText xml:lang="en">Race</TranslatedText>
            </Description>
         </ItemDef>
         <ItemDef DataType="text" Length="20" Name="Other Race" OID="IT.RACEOTH">
            <Question>
               <TranslatedText xml:lang="en">Other race - specify</TranslatedText>
            </Question>
         </ItemDef>
         <!-- "Race" lines are treated as integer coded values -->
         <!-- NOT (YET) USED -->
         <ItemDef DataType="integer" Length="1" Name="Race" OID="IT.RACE_INTEGER">
            <Description>
               <TranslatedText xml:lang="en">Race</TranslatedText>
            </Description>
            <CodeListRef CodeListOID="CL.RACE"/>
         </ItemDef>
         <!-- "Boolean ItemDefs for individual races.
         NOT (YET) USED -->
         <ItemDef DataType="boolean" Name="Race: White" OID="IT.WHITE">
            <Question>
               <TranslatedText xml:lang="en">White</TranslatedText>
            </Question>
         </ItemDef>
         <ItemDef DataType="boolean" Name="Race: Black/African American" OID="IT.BLACK_AFRICAN_AMERICAN">
            <Question>
               <TranslatedText xml:lang="en">Black/African American</TranslatedText>
            </Question>
         </ItemDef>
         <ItemDef DataType="boolean" Name="Race: Asian" OID="IT.ASIAN">
            <Question>
               <TranslatedText xml:lang="en">Asian</TranslatedText>
            </Question>
         </ItemDef>
         <ItemDef DataType="boolean" Name="Race: Native Hawaiian/Other Pacific Islander"
                  OID="IT.NATIVE_HAWAIAN_PACIFIC_ISLANDER">
            <Question>
               <TranslatedText xml:lang="en">Native Hawaiian/Other Pacific Islander</TranslatedText>
            </Question>
         </ItemDef>
         <ItemDef DataType="boolean" Name="Race; American Indian/Alaska Native"
                  OID="IT.AMERICAN_INDIAN_ALASKA_NATIVE">
            <Question>
               <TranslatedText xml:lang="en">American Indian/Alaska Native</TranslatedText>
            </Question>
         </ItemDef>
         <!-- CodeLists -->
         <CodeList DataType="integer" Name="Sex" OID="CL.SEX">
            <CodeListItem CodedValue="1">
               <Decode>
                  <TranslatedText xml:lang="en">Male</TranslatedText>
               </Decode>
            </CodeListItem>
            <CodeListItem CodedValue="2">
               <Decode>
                  <TranslatedText xml:lang="en">Female</TranslatedText>
               </Decode>
            </CodeListItem>
         </CodeList>
         <CodeList DataType="integer" Name="Ethnicity" OID="CL.ETHNIC">
            <CodeListItem CodedValue="1">
               <Decode>
                  <TranslatedText xml:lang="en">Hispanic</TranslatedText>
               </Decode>
            </CodeListItem>
            <CodeListItem CodedValue="2">
               <Decode>
                  <TranslatedText xml:lang="en">Non-hispanic</TranslatedText>
               </Decode>
            </CodeListItem>
         </CodeList>
         <CodeList DataType="integer" Name="Race" OID="CL.RACE">
            <CodeListItem CodedValue="1">
               <Decode>
                  <TranslatedText xml:lang="en">White</TranslatedText>
               </Decode>
            </CodeListItem>
            <CodeListItem CodedValue="2">
               <Decode>
                  <TranslatedText xml:lang="en">Black/African American</TranslatedText>
               </Decode>
            </CodeListItem>
            <CodeListItem CodedValue="3">
               <Decode>
                  <TranslatedText xml:lang="en">Asian</TranslatedText>
               </Decode>
            </CodeListItem>
            <CodeListItem CodedValue="4">
               <Decode>
                  <TranslatedText xml:lang="en">Black/African American</TranslatedText>
               </Decode>
            </CodeListItem>
            <CodeListItem CodedValue="5">
               <Decode>
                  <TranslatedText xml:lang="en">American Indian/Alaska Native</TranslatedText>
               </Decode>
            </CodeListItem>
            <CodeListItem CodedValue="99">
               <Decode>
                  <TranslatedText xml:lang="en">Other - specify</TranslatedText>
               </Decode>
            </CodeListItem>
         </CodeList>
      </MetaDataVersion>
   </Study>
   <!-- Example clinical data -->
   <ClinicalData StudyOID="ST.DEMOGRAPHICS_EXAMPLE" MetaDataVersionOID="MV.1.0">
      <!-- Subject 001 is a male African American, non-hispanic -->
      <SubjectData SubjectKey="001">
         <StudyEventData StudyEventOID="SE.SCREENING">
            <FormData FormOID="FO.DEMOGRAPHICS">
               <ItemGroupData ItemGroupOID="IG.DEMOGRAPHICS">
                  <ItemData ItemOID="IT.DOB" Value="1957-05-07"/>
                  <ItemData ItemOID="IT.SEX" Value="1"/><!-- 1=male, 2=female -->
                  <ItemData ItemOID="IT.ETHNIC" Value="2"/><!-- 1=hispanic/latino, 2=non-hispanic/latino -->
                  <!-- Race as a group of booleans, one for each possible value of Race -->
                  <ItemGroupData ItemGroupOID="IG.RACE" ItemGroupRepeatKey="1">
                     <ItemData ItemOID="IT.RACE_CODE" Value="1"/>
                     <ItemData ItemOID="IT.RACE_BOOLEAN" Value="false"/>
                  </ItemGroupData>
                  <!-- subject is African American (only) -->
                  <ItemGroupData ItemGroupOID="IG.RACE" ItemGroupRepeatKey="2">
                     <ItemData ItemOID="IT.RACE_CODE" Value="2"/>
                     <ItemData ItemOID="IT.RACE_BOOLEAN" Value="true"/>
                  </ItemGroupData>
                  <ItemGroupData ItemGroupOID="IG.RACE" ItemGroupRepeatKey="3">
                     <ItemData ItemOID="IT.RACE_CODE" Value="3"/>
                     <ItemData ItemOID="IT.RACE_BOOLEAN" Value="false"/>
                  </ItemGroupData>
                  <ItemGroupData ItemGroupOID="IG.RACE" ItemGroupRepeatKey="4">
                     <ItemData ItemOID="IT.RACE_CODE" Value="4"/>
                     <ItemData ItemOID="IT.RACE_BOOLEAN" Value="false"/>
                  </ItemGroupData>
                  <ItemGroupData ItemGroupOID="IG.RACE" ItemGroupRepeatKey="5">
                     <ItemData ItemOID="IT.RACE_CODE" Value="5"/>
                     <ItemData ItemOID="IT.RACE_BOOLEAN" Value="false"/>
                  </ItemGroupData>
                  <ItemGroupData ItemGroupOID="IG.RACE" ItemGroupRepeatKey="6">
                     <ItemData ItemOID="IT.RACE_CODE" Value="99"/>
                     <ItemData ItemOID="IT.RACE_BOOLEAN" Value="false"/>
                  </ItemGroupData>
               </ItemGroupData>
            </FormData>
         </StudyEventData>
      </SubjectData>
      <!-- Subject 002 is a female, having indicated she is both Asian and White, non-hispanic -->
      <SubjectData SubjectKey="002">
         <StudyEventData StudyEventOID="SE.SCREENING">
            <FormData FormOID="FO.DEMOGRAPHICS">
               <ItemGroupData ItemGroupOID="IG.DEMOGRAPHICS">
                  <ItemData ItemOID="IT.DOB" Value="1975-01-31"/>
                  <ItemData ItemOID="IT.SEX" Value="2"/><!-- 1=male, 2=female -->
                  <ItemData ItemOID="IT.ETHNIC" Value="2"/><!-- 1=hispanic/latino, 2=non-hispanic/latino -->
                  <!-- Race as a group of booleans, one for each possible value of Race -->
                  <ItemGroupData ItemGroupOID="IG.RACE" ItemGroupRepeatKey="1">
                     <ItemData ItemOID="IT.RACE_CODE" Value="1"/>
                     <ItemData ItemOID="IT.RACE_BOOLEAN" Value="true"/><!-- White -->
                  </ItemGroupData>
                  <ItemGroupData ItemGroupOID="IG.RACE" ItemGroupRepeatKey="2">
                     <ItemData ItemOID="IT.RACE_CODE" Value="2"/>
                     <ItemData ItemOID="IT.RACE_BOOLEAN" Value="false"/>
                  </ItemGroupData>
                  <ItemGroupData ItemGroupOID="IG.RACE" ItemGroupRepeatKey="3">
                     <ItemData ItemOID="IT.RACE_CODE" Value="3"/>
                     <ItemData ItemOID="IT.RACE_BOOLEAN" Value="true"/><!-- Asian -->
                  </ItemGroupData>
                  <ItemGroupData ItemGroupOID="IG.RACE" ItemGroupRepeatKey="4">
                     <ItemData ItemOID="IT.RACE_CODE" Value="4"/>
                     <ItemData ItemOID="IT.RACE_BOOLEAN" Value="false"/>
                  </ItemGroupData>
                  <ItemGroupData ItemGroupOID="IG.RACE" ItemGroupRepeatKey="5">
                     <ItemData ItemOID="IT.RACE_CODE" Value="5"/>
                     <ItemData ItemOID="IT.RACE_BOOLEAN" Value="false"/>
                  </ItemGroupData>
                  <ItemGroupData ItemGroupOID="IG.RACE" ItemGroupRepeatKey="6">
                     <ItemData ItemOID="IT.RACE_CODE" Value="99"/>
                     <ItemData ItemOID="IT.RACE_BOOLEAN" Value="false"/>
                  </ItemGroupData>
               </ItemGroupData>
            </FormData>
         </StudyEventData>
      </SubjectData>
      <!-- Subject 003 is female, having indicated she is of "other" race, being "Native Amazonian", and hispanic fo culture -->
      <SubjectData SubjectKey="003">
         <StudyEventData StudyEventOID="SE.SCREENING">
            <FormData FormOID="FO.DEMOGRAPHICS">
               <ItemGroupData ItemGroupOID="IG.DEMOGRAPHICS">
                  <ItemData ItemOID="IT.DOB" Value="1961-06-09"/>
                  <ItemData ItemOID="IT.SEX" Value="2"/><!-- 1=male, 2=female -->
                  <ItemData ItemOID="IT.ETHNIC" Value="1"/><!-- 1=hispanic/latino, 2=non-hispanic/latino -->
                  <!-- Race as a group of booleans, one for each possible value of Race -->
                  <ItemGroupData ItemGroupOID="IG.RACE" ItemGroupRepeatKey="1">
                     <ItemData ItemOID="IT.RACE_CODE" Value="1"/>
                     <ItemData ItemOID="IT.RACE_BOOLEAN" Value="false"/>
                  </ItemGroupData>
                  <ItemGroupData ItemGroupOID="IG.RACE" ItemGroupRepeatKey="2">
                     <ItemData ItemOID="IT.RACE_CODE" Value="2"/>
                     <ItemData ItemOID="IT.RACE_BOOLEAN" Value="false"/>
                  </ItemGroupData>
                  <ItemGroupData ItemGroupOID="IG.RACE" ItemGroupRepeatKey="3">
                     <ItemData ItemOID="IT.RACE_CODE" Value="3"/>
                     <ItemData ItemOID="IT.RACE_BOOLEAN" Value="false"/>
                  </ItemGroupData>
                  <ItemGroupData ItemGroupOID="IG.RACE" ItemGroupRepeatKey="4">
                     <ItemData ItemOID="IT.RACE_CODE" Value="4"/>
                     <ItemData ItemOID="IT.RACE_BOOLEAN" Value="false"/>
                  </ItemGroupData>
                  <ItemGroupData ItemGroupOID="IG.RACE" ItemGroupRepeatKey="5">
                     <ItemData ItemOID="IT.RACE_CODE" Value="5"/>
                     <ItemData ItemOID="IT.RACE_BOOLEAN" Value="false"/>
                  </ItemGroupData>
                  <ItemGroupData ItemGroupOID="IG.RACE" ItemGroupRepeatKey="6">
                     <ItemData ItemOID="IT.RACE_CODE" Value="99"/>
                     <ItemData ItemOID="IT.RACE_BOOLEAN" Value="true"/>
                     <ItemData ItemOID="IT.RACEOTH" Value="Native Amazonian"/>
                  </ItemGroupData>
               </ItemGroupData>
            </FormData>
         </StudyEventData>
      </SubjectData>
      
   </ClinicalData>
</ODM>